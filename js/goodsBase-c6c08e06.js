import{$ as s,a}from"./index-8023e38e.js";import{N as o}from"./index-2421b00c.js";import{d as e,u as l,a as t,r as i,e as n,f as r,g as d,h as c,F as g,G as p,k as u,i as f,t as m,x as h,y as v,_ as x}from"../default/default-eb6300d2.js";import{e as I}from"./imgErr-5f607783.js";import{a as y}from"./js.cookie-d59fc71c.js";import{i as j}from"./isLogin-07da427d.js";const k=s=>(h("data-v-917f26d3"),s=s(),v(),s),w={class:"goodslist-pages"},b={class:"box"},_={class:"show-head"},F={class:"news"},q=k((()=>d("h3",{class:"pages-title"},"预估线上贷款",-1))),A=k((()=>d("h3",{class:"pages-title"},[f("额度最高"),d("span",{class:"white"},"100000元")],-1))),C={class:"goods-list"},E=k((()=>d("h4",{class:"goods-list-title"},"为您推荐我们的精选平台",-1))),L={class:"goods-header"},T={class:"logo-box"},B=["src"],D={class:"goods-info"},G={class:"goods-info-list"},H=k((()=>d("span",{class:"name"},"公司主体",-1))),M={class:"right"},N={class:"goods-info-list"},O=k((()=>d("span",{class:"name"},"产品介绍",-1))),U={class:"right"},$={class:"goods-footer"},z=["onClick"],J=k((()=>d("footer",{class:"pages-footer"},[d("p",null,"投资有风险，借贷需谨慎。"),d("p",null,"请根据个人能力合理借款、避免逾期。")],-1))),K=x(e({__name:"goodsBase",setup(e){const{isLoginFn:h}=j();h();const{errImgFn:v}=I(),x=l(),k=t(),K=i({}),P=i(!0),Q=i([]);let R="";return(async()=>{R=y.get("userId");let a={appType:3,type:7,userId:R},o=await s("/api/user/match/getAllMatching",a);P.value=!1,1==o.status&&(K.value=o.data)})(),(e,l)=>{const t=o;return n(),r("article",w,[d("div",b,[d("header",_,[d("div",F,[c(t,{background:"#fff",class:"slogn","left-icon":"volume-o",text:"所有贷款申请在未成功贷款前绝不收取任何费用，为了保障您的资金安全，请不要相信任何要求您支付费用的信息，邮件，电话等不实信息"}),q,A])]),d("div",C,[E,(n(!0),r(g,null,p(u(K),((o,e)=>(n(),r("div",{class:"goods-box",key:o.ID},[d("header",L,[d("div",T,[d("img",{class:"logo",src:o.logo,onError:l[0]||(l[0]=(...s)=>u(v)&&u(v)(...s)),alt:""},null,40,B)]),f(" "+m(o.name),1)]),d("div",D,[d("div",G,[H,d("span",M,m(o.platformInfo),1)]),d("div",N,[O,d("span",U,m(o.description),1)])]),d("footer",$,[d("button",{class:"goods-btn",onClick:o=>(async o=>{let e={platformId:K.value[o].id,conditionId:K.value[o].conditionId,flag:4,userId:R,channel:k.query.channel},l=await s("/api/user/platform/insertUserApplication",e);console.log(l),1===l.status?window.location.href=l.data:(-1===Q.value.indexOf(o)&&Q.value.push(o),Q.value.length===K.value.length?(a({type:"error",msg:"申请失败，为您推荐其他产品"}),setTimeout((()=>{x.push({path:"/goods"})}),3e3)):a({type:"error",msg:"申请失败请选择其他产品"}))})(e)},"立即申请",8,z)])])))),128))])]),J])}}}),[["__scopeId","data-v-917f26d3"]]);export{K as default};
