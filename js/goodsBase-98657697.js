import{$ as s,a}from"./axios-0703b32e.js";import{K as o,$ as e,d as t,r as l,A as r,aI as n,aJ as i,at as c,N as d,w as u,h as f,k as p,j as g,aF as m,aK as h,aL as v,aM as b,an as w,T as y,b as I,e as x,f as k,g as j,F as T,s as S,u as F,p as $,q as _,t as q,x as A}from"../default/default-3df10792.js";import{e as B}from"./imgErr-2188b4ef.js";import{a as C}from"./js.cookie-d59fc71c.js";import{i as L}from"./isLogin-8253a3a4.js";const[D,E]=o("notice-bar");const K=y(t({name:D,props:{text:String,mode:String,color:String,delay:e(1),speed:e(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}},emits:["close","replay"],setup(s,{emit:a,slots:o}){let e,t=0,y=0;const I=l(),x=l(),k=r({show:!0,offset:0,duration:0}),j=o=>{"closeable"===s.mode&&(k.show=!1,a("close",o))},T=()=>{if(o["right-icon"])return o["right-icon"]();const a="closeable"===s.mode?"cross":"link"===s.mode?"arrow":void 0;return a?g(m,{name:a,class:E("right-icon"),onClick:j},null):void 0},S=()=>{k.offset=t,k.duration=0,b(()=>{v(()=>{k.offset=-y,k.duration=(y+t)/+s.speed,a("replay")})})},F=()=>{const a=!1===s.scrollable&&!s.wrapable,e={transform:k.offset?`translateX(${k.offset}px)`:"",transitionDuration:`${k.duration}s`};return g("div",{ref:I,role:"marquee",class:E("wrap")},[g("div",{ref:x,style:e,class:[E("content"),{"van-ellipsis":a}],onTransitionend:S},[o.default?o.default():s.text])])},$=()=>{const{delay:a,speed:o,scrollable:l}=s,r=w(a)?1e3*+a:0;t=0,y=0,k.offset=0,k.duration=0,clearTimeout(e),e=setTimeout(()=>{if(!I.value||!x.value||!1===l)return;const s=h(I).width,a=h(x).width;(l||a>s)&&v(()=>{t=s,y=a,k.offset=-y,k.duration=y/+o})},r)};return n($),i($),c("pageshow",$),d({reset:$}),u(()=>[s.text,s.scrollable],$),()=>{const{color:a,wrapable:e,background:t}=s;return f(g("div",{role:"alert",class:E({wrapable:e}),style:{color:a,background:t}},[o["left-icon"]?o["left-icon"]():s.leftIcon?g(m,{class:E("left-icon"),name:s.leftIcon},null):void 0,F(),T()]),[[p,k.show]])}}})),M={class:"goodslist-pages"},J={class:"box"},N={class:"show-head"},O={class:"news"},U={class:"goods-list"},X={class:"goods-header"},z={class:"logo-box"},G=["src"],H={class:"goods-info"},P={class:"goods-info-list"},Q={class:"right"},R={class:"goods-info-list"},V={class:"right"},W={class:"goods-footer"},Y=["onClick"],Z=A(t({__name:"goodsBase",setup(o){const{isLoginFn:e}=L();e();const{errImgFn:t}=B(),r=$(),n=_(),i=l({}),c=l(!0),d=l([]);let u="";return(async()=>{u=C.get("userId");let a={appType:3,type:7,userId:u},o=await s("/api/user/match/getAllMatching",a);c.value=!1,1==o.status&&(i.value=o.data)})(),(o,e)=>{const l=K;return I(),x("article",M,[k("div",J,[k("header",N,[k("div",O,[g(l,{background:"#fff",class:"slogn","left-icon":"volume-o",text:"所有贷款申请在未成功贷款前绝不收取任何费用，为了保障您的资金安全，请不要相信任何要求您支付费用的信息，邮件，电话等不实信息"}),e[1]||(e[1]=k("h3",{class:"pages-title"},"预估线上贷款",-1)),e[2]||(e[2]=k("h3",{class:"pages-title"},[j("额度最高"),k("span",{class:"white"},"100000元")],-1))])]),k("div",U,[e[5]||(e[5]=k("h4",{class:"goods-list-title"},"为您推荐我们的精选平台",-1)),(I(!0),x(T,null,S(F(i),(o,l)=>(I(),x("div",{class:"goods-box",key:o.ID},[k("header",X,[k("div",z,[k("img",{class:"logo",src:o.logo,onError:e[0]||(e[0]=(...s)=>F(t)&&F(t)(...s)),alt:""},null,40,G)]),j(" "+q(o.name),1)]),k("div",H,[k("div",P,[e[3]||(e[3]=k("span",{class:"name"},"公司主体",-1)),k("span",Q,q(o.platformInfo),1)]),k("div",R,[e[4]||(e[4]=k("span",{class:"name"},"产品介绍",-1)),k("span",V,q(o.description),1)])]),k("footer",W,[k("button",{class:"goods-btn",onClick:o=>(async o=>{let e={platformId:i.value[o].id,conditionId:i.value[o].conditionId,flag:4,userId:u,channel:n.query.channel},t=await s("/api/user/platform/insertUserApplication",e);console.log(t),1===t.status?window.location.href=t.data:(-1===d.value.indexOf(o)&&d.value.push(o),d.value.length===i.value.length?(a({type:"error",msg:"申请失败，为您推荐其他产品"}),setTimeout(()=>{r.push({path:"/goods"})},3e3)):a({type:"error",msg:"申请失败请选择其他产品"}))})(l)},"立即申请",8,Y)])]))),128))])]),e[6]||(e[6]=k("footer",{class:"pages-footer"},[k("p",null,"投资有风险，借贷需谨慎。"),k("p",null,"请根据个人能力合理借款、避免逾期。")],-1))])}}}),[["__scopeId","data-v-be46fae2"]]);export{Z as default};
