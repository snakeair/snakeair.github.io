import{_ as e,d as s,u as a,q as t,s as l,x as o,r as i,a as r,b as c,c as d,e as n,w as p,f as m,v as f,g as u,t as v,h as g,i as h,j as b,k as y,l as x,p as k,$ as w,y as _,z as q,A as C,o as I}from"../default/default-79293226.js";import{_ as S}from"./img-06-c327b133.js";import{_ as j,a as O}from"./img-088-e6f31b4d.js";const V={class:"reg-pages"},A={class:"z10"},D=x('<h1 class="title" data-v-37dfd6fc><img class="logo" src="'+S+'" alt="" data-v-37dfd6fc></h1><div class="banner" data-v-37dfd6fc><h3 class="money" data-v-37dfd6fc><em class="icon" data-v-37dfd6fc>￥</em>200,000</h3><p class="info" data-v-37dfd6fc>年化利率7.2%-24% <em data-v-37dfd6fc>/</em> 循环额度 <em data-v-37dfd6fc>/</em> 次日可还</p></div>',2),T={class:"form-box"},z={class:"form-list"},F={class:"form-list form-code"},M={class:"wait-code"},U={for:""},$={class:"pact"},E={class:"img",src:j,alt:""},L={class:"img",src:O,alt:""},P=x('<footer class="footer" data-v-37dfd6fc><p class="footer-p" data-v-37dfd6fc>贷款有风险，借款需谨慎</p><p class="footer-p" data-v-37dfd6fc>贷款资金由银行和持有贷款业务资格文件的正规小额贷款公司提供</p><p class="footer-p" data-v-37dfd6fc>重庆小康小额贷款有限公司</p><p class="footer-p" data-v-37dfd6fc>渝公网安备 50019002501472号 渝ICP备18000384号-1</p></footer>',1);var R=e(s({__name:"index",setup(e){const s=a(),x=t(),S=l(),j=e=>{};o((()=>{var e=navigator.userAgent.toLowerCase(),s=-1!=e.indexOf("iphone")||-1!=e.indexOf("ipad");if(e.indexOf("mqqbrowser")>-1&&e.indexOf(" qq")<0||s){var a=document.querySelector("#file");a&&a.removeAttribute("capture")}}));const O=i({msg:"",type:!1}),R=i({code:"",mobile:""}),B=i({timer:60,show:!0});let G="请输入正确的手机号码";const H=()=>{if(!k(R.mobile))return O.type=!0,O.msg=G,!1;O.type=!1;let e=`/api.php/core/tool/getcode?client=h5&package=pc&ver=v1.1&Mobile=${R.mobile}&type=3`;w(e,{}).then((e=>{B.show=!1,setInterval((()=>{1===B.timer?(B.timer=60,B.show=!0):B.timer--}),1e3)}))},J=r({Time:"",Val:"",ID:""}),K=()=>{w("/api.php/core/tool/timestamp?client=pc&package=h5&ver=v1.1",{}).then((e=>{1==e.result&&(J.value=e.data,N())}))},N=()=>{let e={ticksid:J.value.ID,client:"h5",package:"pc",ver:"v1.1",ticks:J.value.Val,mobile:R.mobile,code:R.code,loginType:1};w("/api.php/center/member/login",e).then((e=>{1==e.result?(q.set("token",e.data.Token,{expires:.04}),q.set("id",e.data.ID,{expires:.04}),q.set("info",e.data.is_info,{expires:.04}),X(),x.push({path:"/address"})):C({type:"error",msg:e.message})}))},Q=r(!1),W=()=>{Q.value=!Q.value};(()=>{let e=s.query.source,a={puser:e||S.puser};_("/api.php/center/register/channel",a).then((e=>{}))})();const X=()=>{q.get("token")&&x.push({path:"/"})};return X(),(e,a)=>{const t=c("router-link");return I(),d("div",null,[n("div",V,[n("div",A,[D,n("div",T,[n("form",{name:"login",id:"login-form",onSubmit:a[3]||(a[3]=p((()=>{}),["prevent"]))},[n("div",z,[m(n("input",{class:"input",type:"text",maxlength:"11","onUpdate:modelValue":a[0]||(a[0]=e=>R.mobile=e),placeholder:"请输入您的联系电话"},null,512),[[f,R.mobile]])]),n("div",F,[m(n("input",{class:"input code",type:"text",maxlength:"11","onUpdate:modelValue":a[1]||(a[1]=e=>R.code=e),placeholder:"请输入短信验证码"},null,512),[[f,R.code]]),m(n("div",{btn:"",class:"get-code-btn",onClick:H},"获取验证码",512),[[u,B.show]]),m(n("div",M,[n("em",null,v(B.timer)+"s",1),g(" 后重新获取")],512),[[u,!B.show]]),m(n("p",{class:"error"},v(O.msg),513),[[u,O.type]])]),n("label",U,[n("input",{type:"file",id:"file",name:"file",class:"upload-file",onChange:j,ref:"frontFile",multiple:"",accept:"image/*"},null,544),g(" 上传图片 ")]),n("button",{class:"form-btn",type:"submit",onClick:a[2]||(a[2]=e=>(()=>{if(!k(R.mobile))return O.type=!0,O.msg=G,!1;if(O.type=!1,!Q.value)return O.type=!0,O.msg="请同意注册协议",!1;O.type=!1;let e=s.query.source,a={Mobile:R.mobile,Code:R.code,puser:e||S.puser,client:"pc"};_("/api.php/center/Register/reg",a).then((e=>{1===e.result||3===e.result?K():(O.type=!0,O.msg=e.message)}))})())},"登录")],32),n("div",$,[n("span",{class:"checkbox",onClick:W},[m(n("img",E,null,512),[[u,!Q.value]]),m(n("img",L,null,512),[[u,Q.value]])]),g(" 我已阅读并同意"),h(t,{to:"/pact/reg"},{default:b((()=>[g("《趣融分期注册协议》")])),_:1})])]),P])]),y(' <div class="cloud" v-show="layerShow != \'\'"></div>\r\n  <div class="layer layer-address" v-show="layerShow == \'addrShow\'">\r\n    <h1 class="layer-title"><em class="icon"><img class="img" src="@/assets/images/img-10.png" alt=""></em>您在哪个城市工作</h1>\r\n    <h3 class="two-title">机构仅办理当地工作人士申请及咨询</h3>\r\n    <section class="address-select">\r\n      <div class="addr-box">北京</div>\r\n      <div class="addr-box">上海</div>\r\n      <router-link to="/address" class="addr-box">其他城市</router-link>\r\n    </section>\r\n    <div class="layer-close" @click="closeFn"><em class="iconfont icon-guanbi1"></em></div>\r\n  </div> ')])}}}),[["__scopeId","data-v-37dfd6fc"],["__file","E:/other/vue/vitets/src/views/login/index.vue"]]);export{R as default};
