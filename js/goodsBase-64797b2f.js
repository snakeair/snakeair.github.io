import{$ as s,a}from"./index-84402ef3.js";import{K as o,a8 as e,d as t,r as l,A as r,aI as n,aJ as i,a6 as c,N as d,w as u,j as f,q as p,h as g,aF as m,aK as h,aL as v,aM as b,Y as w,T as y,e as I,f as x,g as k,i as j,F as T,x as S,k as q,u as F,a as _,t as A,y as B}from"../default/default-230bf5e4.js";import{e as C}from"./imgErr-86c12416.js";import{a as L}from"./js.cookie-d59fc71c.js";import{i as $}from"./isLogin-7e997e8b.js";const[D,E]=o("notice-bar");const K=y(t({name:D,props:{text:String,mode:String,color:String,delay:e(1),speed:e(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}},emits:["close","replay"],setup(s,{emit:a,slots:o}){let e,t=0,y=0;const I=l(),x=l(),k=r({show:!0,offset:0,duration:0}),j=o=>{"closeable"===s.mode&&(k.show=!1,a("close",o))},T=()=>{if(o["right-icon"])return o["right-icon"]();const a="closeable"===s.mode?"cross":"link"===s.mode?"arrow":void 0;return a?g(m,{name:a,class:E("right-icon"),onClick:j},null):void 0},S=()=>{k.offset=t,k.duration=0,b(()=>{v(()=>{k.offset=-y,k.duration=(y+t)/+s.speed,a("replay")})})},q=()=>{const a=!1===s.scrollable&&!s.wrapable,e={transform:k.offset?`translateX(${k.offset}px)`:"",transitionDuration:`${k.duration}s`};return g("div",{ref:I,role:"marquee",class:E("wrap")},[g("div",{ref:x,style:e,class:[E("content"),{"van-ellipsis":a}],onTransitionend:S},[o.default?o.default():s.text])])},F=()=>{const{delay:a,speed:o,scrollable:l}=s,r=w(a)?1e3*+a:0;t=0,y=0,k.offset=0,k.duration=0,clearTimeout(e),e=setTimeout(()=>{if(!I.value||!x.value||!1===l)return;const s=h(I).width,a=h(x).width;(l||a>s)&&v(()=>{t=s,y=a,k.offset=-y,k.duration=y/+o})},r)};return n(F),i(F),c("pageshow",F),d({reset:F}),u(()=>[s.text,s.scrollable],F),()=>{const{color:a,wrapable:e,background:t}=s;return f(g("div",{role:"alert",class:E({wrapable:e}),style:{color:a,background:t}},[o["left-icon"]?o["left-icon"]():s.leftIcon?g(m,{class:E("left-icon"),name:s.leftIcon},null):void 0,q(),T()]),[[p,k.show]])}}})),M={class:"goodslist-pages"},G={class:"box"},J={class:"show-head"},N={class:"news"},O={class:"goods-list"},U={class:"goods-header"},X={class:"logo-box"},Y=["src"],z={class:"goods-info"},H={class:"goods-info-list"},P={class:"right"},Q={class:"goods-info-list"},R={class:"right"},V={class:"goods-footer"},W=["onClick"],Z=B(t({__name:"goodsBase",setup(o){const{isLoginFn:e}=$();e();const{errImgFn:t}=C(),r=F(),n=_(),i=l({}),c=l(!0),d=l([]);let u="";return(async()=>{u=L.get("userId");let a={appType:3,type:7,userId:u},o=await s("/api/user/match/getAllMatching",a);c.value=!1,1==o.status&&(i.value=o.data)})(),(o,e)=>{const l=K;return I(),x("article",M,[k("div",G,[k("header",J,[k("div",N,[g(l,{background:"#fff",class:"slogn","left-icon":"volume-o",text:"所有贷款申请在未成功贷款前绝不收取任何费用，为了保障您的资金安全，请不要相信任何要求您支付费用的信息，邮件，电话等不实信息"}),e[1]||(e[1]=k("h3",{class:"pages-title"},"预估线上贷款",-1)),e[2]||(e[2]=k("h3",{class:"pages-title"},[j("额度最高"),k("span",{class:"white"},"100000元")],-1))])]),k("div",O,[e[5]||(e[5]=k("h4",{class:"goods-list-title"},"为您推荐我们的精选平台",-1)),(I(!0),x(T,null,S(q(i),(o,l)=>(I(),x("div",{class:"goods-box",key:o.ID},[k("header",U,[k("div",X,[k("img",{class:"logo",src:o.logo,onError:e[0]||(e[0]=(...s)=>q(t)&&q(t)(...s)),alt:""},null,40,Y)]),j(" "+A(o.name),1)]),k("div",z,[k("div",H,[e[3]||(e[3]=k("span",{class:"name"},"公司主体",-1)),k("span",P,A(o.platformInfo),1)]),k("div",Q,[e[4]||(e[4]=k("span",{class:"name"},"产品介绍",-1)),k("span",R,A(o.description),1)])]),k("footer",V,[k("button",{class:"goods-btn",onClick:o=>(async o=>{let e={platformId:i.value[o].id,conditionId:i.value[o].conditionId,flag:4,userId:u,channel:n.query.channel},t=await s("/api/user/platform/insertUserApplication",e);console.log(t),1===t.status?window.location.href=t.data:(-1===d.value.indexOf(o)&&d.value.push(o),d.value.length===i.value.length?(a({type:"error",msg:"申请失败，为您推荐其他产品"}),setTimeout(()=>{r.push({path:"/goods"})},3e3)):a({type:"error",msg:"申请失败请选择其他产品"}))})(l)},"立即申请",8,W)])]))),128))])]),e[6]||(e[6]=k("footer",{class:"pages-footer"},[k("p",null,"投资有风险，借贷需谨慎。"),k("p",null,"请根据个人能力合理借款、避免逾期。")],-1))])}}}),[["__scopeId","data-v-be46fae2"]]);export{Z as default};
