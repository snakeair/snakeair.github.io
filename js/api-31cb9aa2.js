import"./base-923f1d4f.js";import{v as s}from"./el-loading-75a269dd.js";import{b as a,c as e}from"./index-84402ef3.js";/* empty css              *//* empty css              */import{d as l,r as o,A as t,j as c,k as d,e as i,f as r,F as n,g as u,m,t as v,i as p,x as g,h as b,n as f,p as A,q as y,s as h,l as k,a as w,u as C,P as I,D as E,z as q,y as z}from"../default/default-230bf5e4.js";import{p as R}from"./pactThree-467fa978.js";import{b as S,a as U,c as X,d as J}from"./book4-f008cb22.js";import{e as Q}from"./imgErr-86c12416.js";import{a as j}from"./js.cookie-d59fc71c.js";import{c as x}from"./util-bc24738a.js";import{s as H}from"./function-call-1347fc27.js";import"./mount-component-ff005b76.js";const T={class:"money-banner"},F={class:"money-test"},B={class:"max-money"},K={class:"size-banner"},V={class:"blue"},D=["onClick"],L={class:"goods-title"},P=["src"],Z={class:"goods-data"},O={class:"blue"},N={class:"blue"},W={class:"blue"},M={class:"pact-main"},G={class:"footer-main"},Y={class:"page-pact-box"},_={class:"pact-list"},$=["href"],ss={class:"cloud"},as={class:"goods-layer"},es={class:"goods-layer-header"},ls={class:"info"},os={class:"red"},ts={class:"goods-list"},cs=["onClick"],ds={class:"goods-title"},is=["src"],rs={class:"goods-data"},ns={class:"blue"},us={class:"blue"},ms={class:"blue"},vs={class:"page-pact-box"},ps={class:"pact-list"},gs={class:"layer-book-box"},bs=z(l({__name:"api",setup(l){const{errImgFn:z}=Q(),bs=w(),fs=C(),As=o(null),ys=o(!0),hs=o(!1),ks=o(0),ws=s=>{hs.value=!0,ks.value=s},Cs=o(!1);o(!1);const Is=o(!1),Es=()=>{Is.value=!Is.value},qs=o(0),zs=()=>{qs.value=xs.value.filter(s=>s.selected).length,console.log(qs.value)},Rs=o(!1),Ss=()=>{Rs.value=!Rs.value,Hs.value.map(s=>{s.selected=Rs.value}),Rs.value?qs.value=Hs.value.length:qs.value=0},Us=()=>{Is.value?(qs.value=xs.value.filter(s=>s.selected).length,0!==qs.value?(Hs.value=x(xs.value.filter(s=>s.selected).concat(xs.value.filter(s=>!s.selected&&!s.isApply))),qs.value==Hs.value.length&&(Rs.value=!0),Cs.value=!0):H({message:"请选择要申请服务提供方",duration:1e3})):H({message:"请先阅读并同意服务条约"})},Xs=()=>{Is.value?0!==Hs.value.filter(s=>s.selected).length?Qs():H({message:"请选择要申请服务提供方",duration:1e3}):H({message:"请先阅读并同意服务条约",duration:1e3})},Js=()=>{Cs.value=!1},Qs=async()=>{let s=Hs.value.filter(s=>s.selected).map(s=>s.platformId);ys.value=!0;let a=bs.query.orderId,l={orderId:a,platformIds:s.join(",")},o=await e("api/v1/apiOrder/confirm",l),t=setTimeout(()=>{ys.value=!1,clearTimeout(t)},500);if("0000"==o.code){H({message:"申请成功",type:"success",duration:1e3});let s=o.data;s&&""!==s?window.location.href=s:fs.push({path:"/waiting",query:{orderId:a}})}else H({message:o.message,duration:1e3})},js=()=>{fs.push({path:"/"})},xs=o([]),Hs=o([]),Ts=o([]),Fs=o(0);(async()=>{let s=bs.query.orderId;if(s&&s.length>0){let e=`api/v1/apiOrder?orderId=${s}`,l=await a(e);ys.value=!1,"0000"==l.code?(xs.value=l.data,Ts.value=xs.value[0].agreementList,(()=>{Fs.value=0,xs.value.map(s=>{s.isApply||Fs.value++});let s=xs.value.findIndex(s=>!s.isApply);console.log(s),-1!==s&&(xs.value[s].selected=!0)})(),zs(),j.set("userId",xs.value[0].userId,{expires:1}),0===Fs.value&&fs.push({path:"/goods1"})):js()}else js()})();const Bs=t({all:0,size:0});(()=>{let s=(new Date).getHours();Bs.size=20+11*s+1,Bs.all=30+13*s+1})();const Ks=o(!1);var Vs;return Vs=navigator.userAgent,Ks.value=!!Vs.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),(a,e)=>{const l=I,o=E,t=s;return c((i(),r("article",{class:f(["api-page",{ios:d(Ks)}])},[d(ys)?A("",!0):(i(),r(n,{key:0},[e[22]||(e[22]=u("div",{class:"banner"},null,-1)),u("section",T,[e[12]||(e[12]=m('<header class="money-banner-header" data-v-0637aba0><div class="logo" data-v-0637aba0></div><div class="logo-text" data-v-0637aba0>招招分期</div><div class="info" data-v-0637aba0>放款速度快</div><div class="info" data-v-0637aba0>审批效率高</div></header><div class="your-money" data-v-0637aba0>您的预审金额</div>',2)),u("div",F,v(d(xs)[0].applyAmount),1),u("div",B,"总预审额度"+v(2*d(xs)[0].applyAmount),1)]),u("p",K,[p("今日申请人数："+v(d(Bs).all)+"人",1),u("em",V,"成功"+v(d(Bs).size)+"人",1)]),u("section",{class:"goods-list-main",ref_key:"goodsBox",ref:As},[e[19]||(e[19]=u("header",{class:"goods-header"},"选择服务提供方",-1)),(i(!0),r(n,null,g(d(xs),(s,a)=>(i(),r("section",{key:s.platformId,class:f(["goods-list-box",{cur:s.selected,used:s.isApply}]),onClick:s=>(s=>{if(xs.value[s].isApply)return xs.value[s].selected=!1,void H({message:"该机构已经申请",duration:1e3});xs.value[s].selected?xs.value[s].selected=!1:xs.value[s].selected=!0,zs()})(a)},[u("h3",L,[u("img",{class:"logo",src:"https://paiyidai.hnyiye.com"+s.logoUrl,onError:e[0]||(e[0]=(...s)=>d(z)&&d(z)(...s)),alt:""},null,40,P),p(" "+v(s.firmName),1)]),u("div",Z,[u("dl",null,[u("dt",O,[p(v(s.lowRate),1),e[13]||(e[13]=u("em",{class:"small"},"%",-1))]),e[14]||(e[14]=u("dd",{class:"gray"},"最低月利率",-1))]),u("dl",null,[u("dt",N,[p(v(s.highLimit),1),e[15]||(e[15]=u("em",{class:"small"},"万",-1))]),e[16]||(e[16]=u("dd",{class:"gray"},"最高额度",-1))]),u("dl",null,[u("dt",W,[p(v(s.longTerm),1),e[17]||(e[17]=u("em",{class:"small"},"个月",-1))]),e[18]||(e[18]=u("dd",{class:"gray"},"最长期限",-1))])])],10,D))),128))],512),e[23]||(e[23]=u("section",{class:"remind-floor"},[u("h3",{class:"remind-title"},[u("img",{class:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABA5JREFUWEfFV01oXFUU/s6bNw2SCtNCS2YwgmJXQrHizzQGXLgRu9BVFoIgyfDuJKMVx1IrKJlQIfUnEaOT3PuSEETczEoXFZe6aJuKpgpuSqGC07yRiuksHIXJmznOHe6UIZnfZ4J39ebee8757rnn+84dQsDBzOS67lVt7jjOk0TEQVxRECNts7a2FimXy3f0d6VSOTw1NVX/7ncEBrC4uHgoFApt/W8ApqenD8RisdsagOd5R2dmZsr9nl7v35UB13UfsSxrKJFIfNPNoVLqfr1HCPFbt71Symcty/rdcZyfmvfuAqCU0s6GAbwlhLjQzXEv60qpcwBmAeSFEHXQjbELgJTyPBG9XU8P0aTjOLLZIJPJWENDQ7rqRwBETfUXAKx7nreeyWSqzfuVUgkAy8bfu47jvNMRgF5USr0H4CyAz4QQL+s5fefRaFRYlnWOmWNtTq6BXPA8TzZqQin1IYA3ALwvhHhzp11bFqysrJyoVCrXhRB/Z7PZYdu2vwTwqHFQYubviOhX/ZuZHyCipwEMmvVr4XD4+fHx8XwulwttbW09mEwmb7QC3ZWGJvg6AH1qzfXzpVJJptPpf5odzs/P3zM4OJisyYJO8SEi8mzbjmsQneqkIwBDtSvm5DeY+VS7kzSCSCmPEdFFAMcAXPM8L96Joh0BSClfJaIFAEVmfqJb8B0gvgcQqWXtNSGE9tFytAWgqz0Wi+VNwaWFEB/1QrnGHqXU6wDmazJRKBQK9+1kx10aKqUEgGcMTbxIJHJ2bGysLKU8SUSXAZRKpdKRnXfeDYypiT90YVar1dHJyclLuVzuQLFYnGVmrTOa5t+SUupPAIcbDpn58WQy+YPrumlmnqul/utkMnmqW8BW61LKi0T0HIAzQog5w6yNu6cnKtLS0tJTRDRqWZae9xzH+dxoQYO/WSHEK0EAKKU+BZACMCeEOGP8vkhEw9VqXa+utK0B13U/YGZttKcAehai/biCvoTIdd0RZr60F0Vo2/bIxMSE1pNdoyMNo9HoLd1wAOwfDTsVl1LqdE1WP/4vQkREpx3H+aRvIdIGRop1HzgBIIgUb3iedzKwFGsQuhmFw+F1o4h9NaPt7e14KpUK3owaaTMd8SuTCT3drR1v+L7/QrfgdTXsVWDMdeh2q59XujBbjQIRzW5ubqpeH6k9A2hEM00qDiDe9DIq2LZ9OZ/PX23XdAIVYSsjpdRouwzYtn2rHd/3BMDy8vLxarX6c4dr41AodDyRSPzS69X2dQWrq6v3+r7/RbtHKRHlfd9/KZVK/bUvAJqdZrPZg0R0VM8x8+1+gjb76SsDTbQ8GA6HbzLzETN3JxQKPZRIJOr/FfsZgQAsLCwMDAwM/AjgYRPsuu/7jwXJwr8ajOsrDCaxbQAAAABJRU5ErkJggg==",alt:""}),p("特别提醒")]),u("p",{class:"test"},"所有贷款申请在未成功贷款前绝不收取任何费用，为了保障您的资金安全，请不要相信任何要求您支付费用的信息、邮件、电话等不实信息。")],-1)),u("section",M,[b(R)]),u("footer",G,[u("div",{class:"footer-btn",onClick:Us},"同意并领取额度"),u("div",Y,[u("div",{class:f(["checked",{cur:d(Is)}]),onClick:Es},null,2),u("div",_,[e[20]||(e[20]=p(" 我已阅读并同意以下协议： ",-1)),u("span",{class:"books",onClick:e[1]||(e[1]=s=>ws(1))},"《隐私政策》"),u("span",{class:"books",onClick:e[2]||(e[2]=s=>ws(2))},"《个人信息处理规则（含信息授权协议）》"),u("span",{class:"books",onClick:e[3]||(e[3]=s=>ws(3))},"《用户注册服务协议》"),u("span",{class:"books",onClick:e[4]||(e[4]=s=>ws(4))},"《产品风险告知书》"),(i(!0),r(n,null,g(d(Ts),(s,a)=>(i(),r("span",{class:"books",key:a},[u("a",{href:s.agreementUrl,target:"_blank",class:"books"},"《"+v(s.agreementName)+"》",9,$)]))),128)),e[21]||(e[21]=p(" 并授权相应机构为我提供咨询服务。 ",-1))])])])],64)),c(u("div",ss,null,512),[[y,d(Cs)]]),b(l,{show:d(Cs),"onUpdate:show":e[10]||(e[10]=s=>k(Cs)?Cs.value=s:null),position:"bottom"},{default:h(()=>[u("section",as,[u("header",es,[e[25]||(e[25]=u("h3",{class:"title"},"您还可以申请以下平台",-1)),u("p",ls,[e[24]||(e[24]=p("你已申请以下平台，",-1)),u("em",os,"当前已申请"+v(d(qs))+"家机构",1)])]),u("section",ts,[u("header",{class:f(["check-all",{cur:d(Rs)}]),onClick:Ss},[...e[26]||(e[26]=[u("div",{class:"icon"},null,-1),p("全部选择 ",-1)])],2),(i(!0),r(n,null,g(d(Hs),(s,a)=>(i(),r("section",{key:s.platformId,class:f(["goods-list-box",{cur:s.selected}]),onClick:s=>(s=>{Hs.value[s].selected?Hs.value[s].selected=!1:Hs.value[s].selected=!0,qs.value=Hs.value.filter(s=>s.selected).length})(a)},[u("h3",ds,[u("img",{class:"logo",src:"https://paiyidai.hnyiye.com"+s.logoUrl,onError:e[5]||(e[5]=(...s)=>d(z)&&d(z)(...s)),alt:""},null,40,is),p(" "+v(s.firmName),1)]),u("div",rs,[u("dl",null,[u("dt",ns,[p(v(s.lowRate),1),e[27]||(e[27]=u("em",{class:"small"},"%",-1))]),e[28]||(e[28]=u("dd",{class:"gray"},"最低月利率",-1))]),u("dl",null,[u("dt",us,[p(v(s.highLimit),1),e[29]||(e[29]=u("em",{class:"small"},"万",-1))]),e[30]||(e[30]=u("dd",{class:"gray"},"最高额度",-1))]),u("dl",null,[u("dt",ms,[p(v(s.longTerm),1),e[31]||(e[31]=u("em",{class:"small"},"个月",-1))]),e[32]||(e[32]=u("dd",{class:"gray"},"最长期限",-1))])])],10,cs))),128))]),e[35]||(e[35]=u("p",{class:"remind"},"温馨提醒：申请多家平台，可以提高您申领成",-1)),u("div",vs,[u("div",{class:f(["checked",{cur:d(Is)}]),onClick:Es},null,2),u("div",ps,[e[33]||(e[33]=p(" 我已阅读并同意以下协议： ",-1)),u("span",{class:"books",onClick:e[6]||(e[6]=s=>ws(1))},"《隐私政策》"),u("span",{class:"books",onClick:e[7]||(e[7]=s=>ws(2))},"《个人信息处理规则（含信息授权协议）》"),u("span",{class:"books",onClick:e[8]||(e[8]=s=>ws(3))},"《用户注册服务协议》"),u("span",{class:"books",onClick:e[9]||(e[9]=s=>ws(4))},"《产品风险告知书》"),e[34]||(e[34]=p(" 并授权相应机构为我提供咨询服务。 ",-1))])]),u("div",{class:"submit-btn",onClick:Xs},"同意"),u("div",{class:"submit-btn close",onClick:Js},"退出")])]),_:1},8,["show"]),b(o,{show:d(hs),"onUpdate:show":e[11]||(e[11]=s=>k(hs)?hs.value=s:null)},{default:h(()=>[u("div",gs,[1==d(ks)?(i(),q(S,{key:0})):A("",!0),2==d(ks)?(i(),q(U,{key:1})):A("",!0),3==d(ks)?(i(),q(X,{key:2})):A("",!0),4==d(ks)?(i(),q(J,{key:3})):A("",!0)])]),_:1},8,["show"])],2)),[[t,d(ys)]])}}}),[["__scopeId","data-v-0637aba0"]]);export{bs as default};
