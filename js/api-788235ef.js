import"./base-119a89c1.js";import{v as s}from"./el-loading-88a67788.js";import{b as a,c as e}from"./index-85717e05.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{d as l,r as o,A as t,j as c,k as i,e as d,f as r,F as n,g as u,m,t as v,i as p,x as g,h as b,n as f,p as A,q as y,s as h,l as k,a as w,u as C,P as I,D as E,z as q,y as z}from"../default/default-de349c9c.js";import{p as R}from"./pactThree-b8606fc8.js";import{b as U,a as j,c as x,d as Q}from"./book4-13833d4e.js";import{e as S}from"./imgErr-d75164e8.js";import{a as X}from"./js.cookie-d59fc71c.js";import{c as J}from"./util-bc24738a.js";import{s as T}from"./function-call-ea42dc3f.js";import"./mount-component-00c46c5d.js";const F={class:"money-banner"},H={class:"money-test"},V={class:"max-money"},K={class:"size-banner"},B={class:"blue"},P=["onClick"],L={class:"goods-title"},Z=["src"],D={class:"goods-data"},O={class:"blue"},N={class:"blue"},W={class:"blue"},M={class:"pact-main"},Y={class:"footer-main"},G={class:"page-pact-box"},_={class:"pact-list"},$=["href"],ss={class:"cloud"},as={class:"goods-layer"},es={class:"goods-layer-header"},ls={class:"info"},os={class:"red"},ts={class:"goods-list"},cs=["onClick"],is={class:"goods-title"},ds=["src"],rs={class:"goods-data"},ns={class:"blue"},us={class:"blue"},ms={class:"blue"},vs={class:"page-pact-box"},ps={class:"pact-list"},gs={class:"layer-book-box"},bs=z(l({__name:"api",setup(l){const{errImgFn:z}=S(),bs=w(),fs=C(),As=o(null),ys=o(!0),hs=o(!1),ks=o(0),ws=s=>{hs.value=!0,ks.value=s},Cs=o(!1);o(!1);const Is=o(!1),Es=()=>{Is.value=!Is.value},qs=o(0),zs=()=>{qs.value=Js.value.filter(s=>s.selected).length,console.log(qs.value)},Rs=o(!1),Us=()=>{Rs.value=!Rs.value,Ts.value.map(s=>{s.selected=Rs.value}),Rs.value?qs.value=Ts.value.length:qs.value=0},js=()=>{Is.value?(qs.value=Js.value.filter(s=>s.selected).length,0!==qs.value?(Ts.value=J(Js.value.filter(s=>s.selected).concat(Js.value.filter(s=>!s.selected&&!s.isApply))),qs.value==Ts.value.length&&(Rs.value=!0),Cs.value=!0):T({message:"请选择要申请服务提供方",duration:1e3})):T({message:"请先阅读并同意服务条约"})},xs=()=>{Is.value?0!==Ts.value.filter(s=>s.selected).length?Ss():T({message:"请选择要申请服务提供方",duration:1e3}):T({message:"请先阅读并同意服务条约",duration:1e3})},Qs=()=>{Cs.value=!1},Ss=async()=>{let s=Ts.value.filter(s=>s.selected).map(s=>s.platformId);ys.value=!0;let a=bs.query.orderId,l={orderId:a,platformIds:s.join(",")},o=await e("api/v1/apiOrder/confirm",l),t=setTimeout(()=>{ys.value=!1,clearTimeout(t)},500);if("0000"==o.code){T({message:"申请成功",type:"success",duration:1e3});let s=o.data;s&&""!==s?window.location.href=s:fs.push({path:"/waiting",query:{orderId:a}})}else T({message:o.message,duration:1e3})},Xs=()=>{fs.push({path:"/"})},Js=o([]),Ts=o([]),Fs=o([]),Hs=o(0);(async()=>{let s=bs.query.orderId;if(s&&s.length>0){let e=`api/v1/apiOrder?orderId=${s}`,l=await a(e);ys.value=!1,"0000"==l.code?(Js.value=l.data,Fs.value=Js.value[0].agreementList,(()=>{Hs.value=0,Js.value.map(s=>{s.isApply||Hs.value++});let s=Js.value.findIndex(s=>!s.isApply);console.log(s),-1!==s&&(Js.value[s].selected=!0)})(),zs(),X.set("userId",Js.value[0].userId,{expires:1}),0===Hs.value&&fs.push({path:"/goods1"})):Xs()}else Xs()})();const Vs=t({all:0,size:0});(()=>{let s=(new Date).getHours();Vs.size=20+11*s+1,Vs.all=30+13*s+1})();const Ks=o(!1);var Bs;return Bs=navigator.userAgent,Ks.value=!!Bs.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),(a,e)=>{const l=I,o=E,t=s;return c((d(),r("article",{class:f(["api-page",{ios:i(Ks)}])},[i(ys)?A("",!0):(d(),r(n,{key:0},[e[22]||(e[22]=u("div",{class:"banner"},null,-1)),u("section",F,[e[12]||(e[12]=m('<header class="money-banner-header" data-v-0637aba0><div class="logo" data-v-0637aba0></div><div class="logo-text" data-v-0637aba0>招招分期</div><div class="info" data-v-0637aba0>放款速度快</div><div class="info" data-v-0637aba0>审批效率高</div></header><div class="your-money" data-v-0637aba0>您的预审金额</div>',2)),u("div",H,v(i(Js)[0].applyAmount),1),u("div",V,"总预审额度"+v(2*i(Js)[0].applyAmount),1)]),u("p",K,[p("今日申请人数："+v(i(Vs).all)+"人",1),u("em",B,"成功"+v(i(Vs).size)+"人",1)]),u("section",{class:"goods-list-main",ref_key:"goodsBox",ref:As},[e[19]||(e[19]=u("header",{class:"goods-header"},"选择服务提供方",-1)),(d(!0),r(n,null,g(i(Js),(s,a)=>(d(),r("section",{key:s.platformId,class:f(["goods-list-box",{cur:s.selected,used:s.isApply}]),onClick:s=>(s=>{if(Js.value[s].isApply)return Js.value[s].selected=!1,void T({message:"该机构已经申请",duration:1e3});Js.value[s].selected?Js.value[s].selected=!1:Js.value[s].selected=!0,zs()})(a)},[u("h3",L,[u("img",{class:"logo",src:"https://paiyidai.hnyiye.com"+s.logoUrl,onError:e[0]||(e[0]=(...s)=>i(z)&&i(z)(...s)),alt:""},null,40,Z),p(" "+v(s.firmName),1)]),u("div",D,[u("dl",null,[u("dt",O,[p(v(s.lowRate),1),e[13]||(e[13]=u("em",{class:"small"},"%",-1))]),e[14]||(e[14]=u("dd",{class:"gray"},"最低月利率",-1))]),u("dl",null,[u("dt",N,[p(v(s.highLimit),1),e[15]||(e[15]=u("em",{class:"small"},"万",-1))]),e[16]||(e[16]=u("dd",{class:"gray"},"最高额度",-1))]),u("dl",null,[u("dt",W,[p(v(s.longTerm),1),e[17]||(e[17]=u("em",{class:"small"},"个月",-1))]),e[18]||(e[18]=u("dd",{class:"gray"},"最长期限",-1))])])],10,P))),128))],512),e[23]||(e[23]=u("section",{class:"remind-floor"},[u("h3",{class:"remind-title"},[u("img",{class:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABA5JREFUWEfFV01oXFUU/s6bNw2SCtNCS2YwgmJXQrHizzQGXLgRu9BVFoIgyfDuJKMVx1IrKJlQIfUnEaOT3PuSEETczEoXFZe6aJuKpgpuSqGC07yRiuksHIXJmznOHe6UIZnfZ4J39ebee8757rnn+84dQsDBzOS67lVt7jjOk0TEQVxRECNts7a2FimXy3f0d6VSOTw1NVX/7ncEBrC4uHgoFApt/W8ApqenD8RisdsagOd5R2dmZsr9nl7v35UB13UfsSxrKJFIfNPNoVLqfr1HCPFbt71Symcty/rdcZyfmvfuAqCU0s6GAbwlhLjQzXEv60qpcwBmAeSFEHXQjbELgJTyPBG9XU8P0aTjOLLZIJPJWENDQ7rqRwBETfUXAKx7nreeyWSqzfuVUgkAy8bfu47jvNMRgF5USr0H4CyAz4QQL+s5fefRaFRYlnWOmWNtTq6BXPA8TzZqQin1IYA3ALwvhHhzp11bFqysrJyoVCrXhRB/Z7PZYdu2vwTwqHFQYubviOhX/ZuZHyCipwEMmvVr4XD4+fHx8XwulwttbW09mEwmb7QC3ZWGJvg6AH1qzfXzpVJJptPpf5odzs/P3zM4OJisyYJO8SEi8mzbjmsQneqkIwBDtSvm5DeY+VS7kzSCSCmPEdFFAMcAXPM8L96Joh0BSClfJaIFAEVmfqJb8B0gvgcQqWXtNSGE9tFytAWgqz0Wi+VNwaWFEB/1QrnGHqXU6wDmazJRKBQK9+1kx10aKqUEgGcMTbxIJHJ2bGysLKU8SUSXAZRKpdKRnXfeDYypiT90YVar1dHJyclLuVzuQLFYnGVmrTOa5t+SUupPAIcbDpn58WQy+YPrumlmnqul/utkMnmqW8BW61LKi0T0HIAzQog5w6yNu6cnKtLS0tJTRDRqWZae9xzH+dxoQYO/WSHEK0EAKKU+BZACMCeEOGP8vkhEw9VqXa+utK0B13U/YGZttKcAehai/biCvoTIdd0RZr60F0Vo2/bIxMSE1pNdoyMNo9HoLd1wAOwfDTsVl1LqdE1WP/4vQkREpx3H+aRvIdIGRop1HzgBIIgUb3iedzKwFGsQuhmFw+F1o4h9NaPt7e14KpUK3owaaTMd8SuTCT3drR1v+L7/QrfgdTXsVWDMdeh2q59XujBbjQIRzW5ubqpeH6k9A2hEM00qDiDe9DIq2LZ9OZ/PX23XdAIVYSsjpdRouwzYtn2rHd/3BMDy8vLxarX6c4dr41AodDyRSPzS69X2dQWrq6v3+r7/RbtHKRHlfd9/KZVK/bUvAJqdZrPZg0R0VM8x8+1+gjb76SsDTbQ8GA6HbzLzETN3JxQKPZRIJOr/FfsZgQAsLCwMDAwM/AjgYRPsuu/7jwXJwr8ajOsrDCaxbQAAAABJRU5ErkJggg==",alt:""}),p("特别提醒")]),u("p",{class:"test"},"所有贷款申请在未成功贷款前绝不收取任何费用，为了保障您的资金安全，请不要相信任何要求您支付费用的信息、邮件、电话等不实信息。")],-1)),u("section",M,[b(R)]),u("footer",Y,[u("div",{class:"footer-btn",onClick:js},"同意并领取额度"),u("div",G,[u("div",{class:f(["checked",{cur:i(Is)}]),onClick:Es},null,2),u("div",_,[e[20]||(e[20]=p(" 我已阅读并同意以下协议： ",-1)),u("span",{class:"books",onClick:e[1]||(e[1]=s=>ws(1))},"《隐私政策》"),u("span",{class:"books",onClick:e[2]||(e[2]=s=>ws(2))},"《个人信息处理规则（含信息授权协议）》"),u("span",{class:"books",onClick:e[3]||(e[3]=s=>ws(3))},"《用户注册服务协议》"),u("span",{class:"books",onClick:e[4]||(e[4]=s=>ws(4))},"《产品风险告知书》"),(d(!0),r(n,null,g(i(Fs),(s,a)=>(d(),r("span",{class:"books",key:a},[u("a",{href:s.agreementUrl,target:"_blank",class:"books"},"《"+v(s.agreementName)+"》",9,$)]))),128)),e[21]||(e[21]=p(" 并授权相应机构为我提供咨询服务。 ",-1))])])])],64)),c(u("div",ss,null,512),[[y,i(Cs)]]),b(l,{show:i(Cs),"onUpdate:show":e[10]||(e[10]=s=>k(Cs)?Cs.value=s:null),position:"bottom"},{default:h(()=>[u("section",as,[u("header",es,[e[25]||(e[25]=u("h3",{class:"title"},"您还可以申请以下平台",-1)),u("p",ls,[e[24]||(e[24]=p("你已申请以下平台，",-1)),u("em",os,"当前已申请"+v(i(qs))+"家机构",1)])]),u("section",ts,[u("header",{class:f(["check-all",{cur:i(Rs)}]),onClick:Us},[...e[26]||(e[26]=[u("div",{class:"icon"},null,-1),p("全部选择 ",-1)])],2),(d(!0),r(n,null,g(i(Ts),(s,a)=>(d(),r("section",{key:s.platformId,class:f(["goods-list-box",{cur:s.selected}]),onClick:s=>(s=>{Ts.value[s].selected?Ts.value[s].selected=!1:Ts.value[s].selected=!0,qs.value=Ts.value.filter(s=>s.selected).length})(a)},[u("h3",is,[u("img",{class:"logo",src:"https://paiyidai.hnyiye.com"+s.logoUrl,onError:e[5]||(e[5]=(...s)=>i(z)&&i(z)(...s)),alt:""},null,40,ds),p(" "+v(s.firmName),1)]),u("div",rs,[u("dl",null,[u("dt",ns,[p(v(s.lowRate),1),e[27]||(e[27]=u("em",{class:"small"},"%",-1))]),e[28]||(e[28]=u("dd",{class:"gray"},"最低月利率",-1))]),u("dl",null,[u("dt",us,[p(v(s.highLimit),1),e[29]||(e[29]=u("em",{class:"small"},"万",-1))]),e[30]||(e[30]=u("dd",{class:"gray"},"最高额度",-1))]),u("dl",null,[u("dt",ms,[p(v(s.longTerm),1),e[31]||(e[31]=u("em",{class:"small"},"个月",-1))]),e[32]||(e[32]=u("dd",{class:"gray"},"最长期限",-1))])])],10,cs))),128))]),e[35]||(e[35]=u("p",{class:"remind"},"温馨提醒：申请多家平台，可以提高您申领成",-1)),u("div",vs,[u("div",{class:f(["checked",{cur:i(Is)}]),onClick:Es},null,2),u("div",ps,[e[33]||(e[33]=p(" 我已阅读并同意以下协议： ",-1)),u("span",{class:"books",onClick:e[6]||(e[6]=s=>ws(1))},"《隐私政策》"),u("span",{class:"books",onClick:e[7]||(e[7]=s=>ws(2))},"《个人信息处理规则（含信息授权协议）》"),u("span",{class:"books",onClick:e[8]||(e[8]=s=>ws(3))},"《用户注册服务协议》"),u("span",{class:"books",onClick:e[9]||(e[9]=s=>ws(4))},"《产品风险告知书》"),e[34]||(e[34]=p(" 并授权相应机构为我提供咨询服务。 ",-1))])]),u("div",{class:"submit-btn",onClick:xs},"同意"),u("div",{class:"submit-btn close",onClick:Qs},"退出")])]),_:1},8,["show"]),b(o,{show:i(hs),"onUpdate:show":e[11]||(e[11]=s=>k(hs)?hs.value=s:null)},{default:h(()=>[u("div",gs,[1==i(ks)?(d(),q(U,{key:0})):A("",!0),2==i(ks)?(d(),q(j,{key:1})):A("",!0),3==i(ks)?(d(),q(x,{key:2})):A("",!0),4==i(ks)?(d(),q(Q,{key:3})):A("",!0)])]),_:1},8,["show"])],2)),[[t,i(ys)]])}}}),[["__scopeId","data-v-0637aba0"]]);export{bs as default};
