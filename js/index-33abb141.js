import{_ as e,d as s,u as a,q as t,s as l,r as o,a as c,b as i,c as r,e as d,w as n,f as p,v as m,g as f,t as u,h as v,i as g,j as h,k as b,l as y,p as k,$ as x,x as w,y as _,z as C,o as I}from"../default/default-d77c5d38.js";import{_ as j}from"./img-06-c327b133.js";import{_ as S,a as V}from"./img-088-e6f31b4d.js";const q={class:"reg-pages"},D={class:"z10"},T=y('<h1 class="title" data-v-37dfd6fc><img class="logo" src="'+j+'" alt="" data-v-37dfd6fc></h1><div class="banner" data-v-37dfd6fc><h3 class="money" data-v-37dfd6fc><em class="icon" data-v-37dfd6fc>￥</em>200,000</h3><p class="info" data-v-37dfd6fc>年化利率7.2%-24% <em data-v-37dfd6fc>/</em> 循环额度 <em data-v-37dfd6fc>/</em> 次日可还</p></div>',2),z={class:"form-box"},F={class:"form-list"},M={class:"form-list form-code"},U={class:"wait-code"},$={for:""},E={class:"pact"},P={class:"img",src:S,alt:""},R={class:"img",src:V,alt:""},A=y('<footer class="footer" data-v-37dfd6fc><p class="footer-p" data-v-37dfd6fc>贷款有风险，借款需谨慎</p><p class="footer-p" data-v-37dfd6fc>贷款资金由银行和持有贷款业务资格文件的正规小额贷款公司提供</p><p class="footer-p" data-v-37dfd6fc>重庆小康小额贷款有限公司</p><p class="footer-p" data-v-37dfd6fc>渝公网安备 50019002501472号 渝ICP备18000384号-1</p></footer>',1);var B=e(s({__name:"index",setup(e){const s=a(),y=t(),j=l(),S=e=>{},V=o({msg:"",type:!1}),B=o({code:"",mobile:""}),G=o({timer:60,show:!0});let H="请输入正确的手机号码";const J=()=>{if(!k(B.mobile))return V.type=!0,V.msg=H,!1;V.type=!1;let e=`/api.php/core/tool/getcode?client=h5&package=pc&ver=v1.1&Mobile=${B.mobile}&type=3`;x(e,{}).then((e=>{G.show=!1,setInterval((()=>{1===G.timer?(G.timer=60,G.show=!0):G.timer--}),1e3)}))},K=c({Time:"",Val:"",ID:""}),L=()=>{x("/api.php/core/tool/timestamp?client=pc&package=h5&ver=v1.1",{}).then((e=>{1==e.result&&(K.value=e.data,N())}))},N=()=>{let e={ticksid:K.value.ID,client:"h5",package:"pc",ver:"v1.1",ticks:K.value.Val,mobile:B.mobile,code:B.code,loginType:1};x("/api.php/center/member/login",e).then((e=>{1==e.result?(_.set("token",e.data.Token,{expires:.04}),_.set("id",e.data.ID,{expires:.04}),_.set("info",e.data.is_info,{expires:.04}),W(),y.push({path:"/address"})):C({type:"error",msg:e.message})}))},O=c(!1),Q=()=>{O.value=!O.value};(()=>{let e=s.query.source,a={puser:e||j.puser};w("/api.php/center/register/channel",a).then((e=>{}))})();const W=()=>{_.get("token")&&y.push({path:"/"})};return W(),(e,a)=>{const t=i("router-link");return I(),r("div",null,[d("div",q,[d("div",D,[T,d("div",z,[d("form",{name:"login",id:"login-form",onSubmit:a[3]||(a[3]=n((()=>{}),["prevent"]))},[d("div",F,[p(d("input",{class:"input",type:"text",maxlength:"11","onUpdate:modelValue":a[0]||(a[0]=e=>B.mobile=e),placeholder:"请输入您的联系电话"},null,512),[[m,B.mobile]])]),d("div",M,[p(d("input",{class:"input code",type:"text",maxlength:"11","onUpdate:modelValue":a[1]||(a[1]=e=>B.code=e),placeholder:"请输入短信验证码"},null,512),[[m,B.code]]),p(d("div",{btn:"",class:"get-code-btn",onClick:J},"获取验证码",512),[[f,G.show]]),p(d("div",U,[d("em",null,u(G.timer)+"s",1),v(" 后重新获取")],512),[[f,!G.show]]),p(d("p",{class:"error"},u(V.msg),513),[[f,V.type]])]),d("label",$,[d("input",{type:"file",name:"file",class:"upload-file",onChange:S,ref:"frontFile",accept:"image/*",capture:"camera"},null,544),v(" 上传图片 ")]),d("button",{class:"form-btn",type:"submit",onClick:a[2]||(a[2]=e=>(()=>{if(!k(B.mobile))return V.type=!0,V.msg=H,!1;if(V.type=!1,!O.value)return V.type=!0,V.msg="请同意注册协议",!1;V.type=!1;let e=s.query.source,a={Mobile:B.mobile,Code:B.code,puser:e||j.puser,client:"pc"};w("/api.php/center/Register/reg",a).then((e=>{1===e.result||3===e.result?L():(V.type=!0,V.msg=e.message)}))})())},"登录")],32),d("div",E,[d("span",{class:"checkbox",onClick:Q},[p(d("img",P,null,512),[[f,!O.value]]),p(d("img",R,null,512),[[f,O.value]])]),v(" 我已阅读并同意"),g(t,{to:"/pact/reg"},{default:h((()=>[v("《趣融分期注册协议》")])),_:1})])]),A])]),b(' <div class="cloud" v-show="layerShow != \'\'"></div>\r\n  <div class="layer layer-address" v-show="layerShow == \'addrShow\'">\r\n    <h1 class="layer-title"><em class="icon"><img class="img" src="@/assets/images/img-10.png" alt=""></em>您在哪个城市工作</h1>\r\n    <h3 class="two-title">机构仅办理当地工作人士申请及咨询</h3>\r\n    <section class="address-select">\r\n      <div class="addr-box">北京</div>\r\n      <div class="addr-box">上海</div>\r\n      <router-link to="/address" class="addr-box">其他城市</router-link>\r\n    </section>\r\n    <div class="layer-close" @click="closeFn"><em class="iconfont icon-guanbi1"></em></div>\r\n  </div> ')])}}}),[["__scopeId","data-v-37dfd6fc"],["__file","E:/other/vue/vitets/src/views/login/index.vue"]]);export{B as default};
