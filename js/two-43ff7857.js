import{_ as s,d as a,i as e,l,r as n,c as t,a as o,u as i,n as c,v as u,s as r,b as d,w as p,q as v,f as b,t as f,G as m,A as w,o as h,p as k,g as _}from"../default/default-64517220.js";const g=s=>(k("data-v-28b8c786"),s=s(),_(),s),y={class:"common-pages que-two"},z=g((()=>o("h3",{class:"page-title"},"第二题",-1))),j=["innerHTML"],q=["innerHTML"],L={class:"reply-box"},x={class:"cloud"},H={class:"layer layer-ok"},M=g((()=>o("div",{class:"iconfont icon-close2"},null,-1))),T=g((()=>o("p",{class:"info"},"回答错误",-1))),C={class:"layer layer-up"},I=g((()=>o("div",{class:"iconfont icon-dui3"},null,-1))),A=g((()=>o("p",{class:"info"},"恭喜！回答正确",-1))),E={class:"info"},F={class:"size"};var G=s(a({__name:"two",setup(s){const{isLoginFn:a}=e();a();let k=l(""),_=l(""),g=0,G=l("");const U=l("");(async()=>{let s=await m("/api.php/puzzle/subject",{});_.value=s.data.title;let a=s.data.content;a.includes("width=")&&(a=a.split("width=").join("")),a.includes("height=")&&(a=a.split("height=").join("")),U.value=a,setInterval((function(){g++}),1e3)})();let V=l(0);const B=async()=>{let s={puzzle_id:2,answer:G.value,use_seconds:g},a=await w("/api.php/puzzle/answer-subject",s);0==a.code?(k.value="ok",V=a.data.rank):k.value="error"},D=()=>{k.value=""};return(s,a)=>{const e=n("router-link");return h(),t("div",y,[z,o("p",{class:"page-take",innerHTML:i(_)},null,8,j),o("div",{class:"img-box",innerHTML:i(U)},null,8,q),o("div",L,[c(o("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>r(G)?G.value=s:G=s),class:"input",placeholder:"请输入你的答案"},null,512),[[u,i(G)]]),o("div",{class:"up-btn common-btn",btn:"",onClick:B},"立即提交")]),d(e,{class:"to-rank",to:"/question/rank"},{default:p((()=>[b("查看入围选手名单")])),_:1}),c(o("div",x,null,512),[[v,""!==i(k)]]),c(o("div",H,[M,T,o("div",{class:"close-btn common-btn",onClick:D,btn:""},"重新答题")],512),[[v,"error"==i(k)]]),c(o("div",C,[I,A,o("p",E,[b("你是第"),o("em",F,f(i(V)),1),b("个回答正确的人")]),d(e,{to:"/question/three",class:"close-btn common-btn",btn:""},{default:p((()=>[b("下一题")])),_:1})],512),[[v,"ok"==i(k)]])])}}}),[["__scopeId","data-v-28b8c786"],["__file","E:/coding/work/newyear/src/views/question/two.vue"]]);export{G as default};
