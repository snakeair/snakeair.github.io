import{$ as e,a as s}from"./index-afbf3d4c.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{r as a,_ as l,e as t,f as o,x as n,y as i,g as c,d as r,k as u,c as d,u as p,a as v,o as h,b as m,w as f,h as x,i as g,j as y,v as b,l as w,n as k,t as _,m as C,p as I,q as j,C as U,D as P}from"../default/default-41f4bb54.js";import{a as q}from"./js.cookie-d59fc71c.js";import{i as H}from"./index-bba73f19.js";const F=e=>/^(1[3|4|5|6|7|8|9])[\d]{9}$/g.test(e);function L(e,s=1,l=1e3){const t=a(),o=a(e),n=a(!1);return{codeTimerH:o,codeShowH:n,codeFnH:()=>{n.value=!n.value;let a=setInterval((()=>{o.value>s?o.value--:(o.value=e,n.value=!n.value,clearInterval(a))}),l)},codeH:t}}const S=""+new URL("../assets/new-logo-b234dcd8.png",import.meta.url).href,T=""+new URL("../assets/logo-2-0ea47949.png",import.meta.url).href,V={},B=[(e=>(n("data-v-32086506"),e=e(),i(),e))((()=>c("h2",{class:"common-logo"},[c("img",{class:"img",src:S,alt:""}),c("img",{class:"img2",src:T,alt:""})],-1)))];const O=l(V,[["render",function(e,s){return t(),o("div",null,B)}],["__scopeId","data-v-32086506"]]),R={class:"iframe-box"},z=["src"],E=l(r({__name:"userPact",setup(e){const s=a("https://pyd.hnyylw.com/xieyi/yonghuxieyi.html");return(e,a)=>(t(),o("div",R,[c("iframe",{class:"iframe",src:u(s)},null,8,z)]))}}),[["__scopeId","data-v-658b86e1"]]),M={class:"iframe-box"},$=["src"],D=l(r({__name:"privatePact",setup(e){const s=a("https://pyd.hnyylw.com/xieyi/yinsixieyi.html");return(e,a)=>(t(),o("div",M,[c("iframe",{class:"iframe",src:s.value},null,8,$)]))}}),[["__scopeId","data-v-dd5f8519"]]),A=""+new URL("../assets/code-8afc0b10.png",import.meta.url).href;function G(){var e;const s=(null==(e=history.state)?void 0:e.pageIdx)||0;history.go(0-s-1)}function J(){window.removeEventListener("popstate",Q)}function K(e){const s=history.state&&history.state.pageIdx>0?history.state.pageIdx:0;s?(J(),history.go(0-s),setTimeout((()=>{e&&e()}),8)):e&&e()}let N=e=>{};const Q=function(e){console.log("popstateCB: ",e.state),N(e.state.pageIdx||0)};function W(e,s){N=s,setTimeout((()=>{const s=history.state.pageIdex||0;if(console.log("currPageIdx",s),history.state&&history.state.pageIdx!=e)for(let a=s;a<e;a++)window.history.pushState({pageIdx:a+1,stackIdx:e-a},"",location.href);window.addEventListener("popstate",Q,!1)}),0)}const X=e=>(n("data-v-b97736b6"),e=e(),i(),e),Y={class:"index-pages"},Z={class:"header-header"},ee={class:"header-box"},se={class:"form-box"},ae=X((()=>c("span",{class:"icon"},"￥",-1))),le=X((()=>c("em",{class:"icon-Close iconfont"},null,-1))),te=X((()=>c("footer",{class:"footer"},[c("span",{class:"warning"},"限时优惠"),c("span",{class:"ll"},"日利率0.025%"),c("span",{class:"other"},"（1千元用1天只需0.25元）")],-1))),oe={class:"list-main"},ne=X((()=>c("h3",{class:"title"},[c("span",{class:"title-name"},"借贷利率"),c("span",{class:"right"},[g("日利低至"),c("em",{class:"red"},"0.032%")])],-1))),ie={class:"flex-box"},ce=X((()=>c("span",{class:"time"},"借12个月",-1))),re={class:"first"},ue=X((()=>c("span",{class:"time"},"借9个月",-1))),de={class:"first"},pe=X((()=>c("span",{class:"time"},"借6个月",-1))),ve={class:"first"},he=X((()=>c("span",{class:"time"},"借3个月",-1))),me={class:"first"},fe={class:"phone-main"},xe={class:"form-phone"},ge=X((()=>c("span",{class:"form-title"},"手机号码",-1))),ye={class:"explain"},be=X((()=>c("span",null,"和",-1))),we={class:"footer-main"},ke=X((()=>c("p",null,"海南易业网络科技有限公司",-1))),_e={key:0},Ce=X((()=>c("p",null,"郑重声明：平台只提供贷款咨询和推荐服务，放款由银行或金融机构进行， 所有贷款申请在未成功贷款前绝不收取任何费用，为了保证您的资金安全， 请不要相信任何要求您支付费用的信息、邮件、电话等不实信息。",-1))),Ie={class:"cloud"},je={class:"layer layer-code"},Ue={class:"layer-header"},Pe={class:"code-box"},qe={class:"iframe-show"},He={class:"iframe-show"},Fe=X((()=>c("div",{class:"block-popup-title"},[c("div",{class:"block-popup-title__tag"},"专属"),c("div",{class:"block-popup-title__text"},"您确定要离开吗？")],-1))),Le={class:"block-popup-body"},Se={class:"block-popup-content"},Te=X((()=>c("p",null,"新用户完成认证后可领取专属额度",-1))),Ve=["src"],Be=X((()=>c("div",{class:"credit-card"},[c("div",{class:"credit-degree-wrap"},[c("div",{class:"credit-title"},"专属额度"),c("div",{class:"credit-degree"},"¥200,000")]),c("div",{class:"credit-degree-desc"},[c("div",{class:"desc-subtitle"},[g("完成认证"),c("br"),g("即可领取")])])],-1))),Oe=X((()=>c("div",{class:"credit-tips"},"* 最终额度以实际审批结果为准",-1))),Re=l(r({__name:"indexIndex",setup(l){const n=d(),i=H(),r=p(),S=v(),T=a(!1),V=a(!1),B=a(3),R=a(0);h((()=>{W(B.value,(e=>{R.value=R.value+1,console.log("block page idx",e,R.value),R.value>B.value?(V.value=!1,R.value=0,K(),J(),G()):V.value=!0}))})),m((()=>{Ye(),K(),J()}));"yijietong"===S.query.channel&&(T.value=!0);const{codeTimerH:z,codeShowH:M,codeFnH:$,codeH:N}=L(60),Q=a(!1),X=a(!1),Re=a(2e5),ze=()=>{Re.value&&Re.value>2e5&&(Re.value=2e5)},Ee=()=>{Re.value=void 0},Me=a({first:"0.00",all:"0.00"});a({first:"0.00",all:"0.00"}),a({first:"0.00",all:"0.00"}),f(Re,((e,s)=>{e?(Me.value.first=""+2*e,Me.value.all=""+4*e):(Me.value.first="0.00",Me.value.all="0.00")}));const $e=a(0),De=e=>{$e.value=e},Ae=a(""),Ge=a(!1),Je=()=>{Ge.value=!Ge.value},Ke=async()=>{let s={mobilePhone:Ae.value};return await e("/api/user/getUserCode",s)},Ne=async s=>{if(!F(Ae.value))return void(!s&&We("请输入正确的手机号码"));if(!Ge.value)return void(!s&&We("请阅读并同意服务条约"));i.userMobile=Ae.value,i.userCheckedPolicy=Ge.value;let a=q.get("userId"),l=q.get("mobile");if(a&&l===Ae.value){if(1===(await Ke()).status)return Ye(),void K((()=>{r.push({path:n.toUrl})}))}let t={mobilePhone:Ae.value,channel:n.channel,position:3};Xe.value=!0;let o=await e("/api/user/getCode",t);1===o.status?(Xe.value=!0,$()):2==o.status&&r.push({path:"/goods"})},Qe=async()=>{S.query.channel;let s={mobilePhone:Ae.value,position:3,code:N.value,channel:n.channel},a=await e("/api/user/registerOrLogin",s);if(1!==a.status)return We("验证码错误"),!1;q.set("mobile",Ae.value,{expires:1}),q.set("token",a.data.access_token,{expires:1}),q.set("jti",a.data.jti,{expires:1}),q.set("token_type",a.data.token_type,{expires:1}),q.set("userId",a.data.userId,{expires:1}),Ye(),K((()=>{r.push({path:n.toUrl||"/question/first"})}))},We=e=>{s({type:"error",msg:e})},Xe=a(!1);function Ye(){Xe.value=!1,V.value=!1,R.value=0,Q.value=!1,X.value=!1}(async()=>{let s={channel:S.query.channel,type:3};await e("/api/user/channelSti",s);let a=S.query.orderId;a&&a.length>0&&r.push({path:"/order",query:{orderId:a}})})();const Ze=async()=>{V.value=!1,1===(await Ke()).status?(Ye(),K((()=>{r.push({path:n.toUrl})}))):Ne(!0)};return(e,s)=>{const a=U,l=P;return t(),o("div",Y,[c("section",Z,[x(O),c("header",ee,[g("最高可借200000元 "),c("span",{class:"all-btn",btn:"",onClick:s[0]||(s[0]=e=>Re.value=2e5)},"全部借出")]),c("div",se,[c("div",null,[ae,y(c("input",{type:"number",class:"money","onUpdate:modelValue":s[1]||(s[1]=e=>w(Re)?Re.value=e:null),maxlength:"5",onInput:ze,oninput:"this.value=this.value.replace(/[^0-9-]+/,'');"},null,544),[[b,u(Re)]])]),c("div",{class:"info",onClick:Ee},[g("(金额可修改) "),le])]),te]),c("section",oe,[ne,c("div",ie,[c("dl",{class:k(["list-box",{holder:0==u($e)}]),onClick:s[2]||(s[2]=e=>De(0))},[c("dt",null,[ce,c("span",re,"每月应还"+_(u(Re)?(32e-5*u(Re)*30+u(Re)/12).toFixed(2):"0.00")+"元",1)])],2),c("dl",{class:k(["list-box",{holder:1==u($e)}]),onClick:s[3]||(s[3]=e=>De(1))},[c("dt",null,[ue,c("span",de,"每月应还"+_(u(Re)?(32e-5*u(Re)*30+u(Re)/9).toFixed(2):"0.00")+"元",1)])],2),c("dl",{class:k(["list-box",{holder:2==u($e)}]),onClick:s[4]||(s[4]=e=>De(2))},[c("dt",null,[pe,c("span",ve,"每月应还"+_(u(Re)?(32e-5*u(Re)*30+u(Re)/6).toFixed(2):"0.00")+"元",1)])],2),c("dl",{class:k(["list-box",{holder:3==u($e)}]),onClick:s[5]||(s[5]=e=>De(3))},[c("dt",null,[he,c("span",me,"每月应还"+_(u(Re)?(32e-5*u(Re)*30+u(Re)/3).toFixed(2):"0.00")+"元",1)])],2)])]),c("section",fe,[c("div",xe,[ge,y(c("input",{type:"tel",placeholder:"请输入手机号码",maxlength:"11",class:"tel","onUpdate:modelValue":s[6]||(s[6]=e=>w(Ae)?Ae.value=e:null),oninput:"this.value=this.value.replace(/[^0-9-]+/,'');"},null,512),[[b,u(Ae)]])]),c("div",{btn:"",class:"btn",onClick:s[7]||(s[7]=e=>Ne())},"去借钱"),c("p",ye,[x(a,{modelValue:u(Ge),"onUpdate:modelValue":s[8]||(s[8]=e=>w(Ge)?Ge.value=e:null),class:"checked","checked-color":"#f85c9b","icon-size":"15px"},null,8,["modelValue"]),c("span",{onClick:Je},"我已阅读同意"),c("span",{class:"red",onClick:s[9]||(s[9]=e=>Q.value=!0)},"《服务协议》"),be,c("span",{class:"red",onClick:s[10]||(s[10]=e=>X.value=!0)},"《隐私政策》")])]),c("footer",we,[ke,u(T)?(t(),o("p",_e,"重庆小康小额贷款有限公司 | 渝ICP备18000384号-1")):C("",!0),Ce]),y(c("div",Ie,null,512),[[I,u(Xe)]]),y(c("div",je,[c("header",Ue,[c("span",{class:"close iconfont icon-Close",onClick:s[11]||(s[11]=e=>{Xe.value=!1})})]),c("div",Pe,[y(c("input",{type:"text",maxlength:"6",placeholder:"请输入手机验证码",class:"code","onUpdate:modelValue":s[12]||(s[12]=e=>w(N)?N.value=e:null)},null,512),[[b,u(N)]]),y(c("span",{class:"get-code",onClick:s[13]||(s[13]=e=>Ne())},"获取验证码",512),[[I,!u(M)]]),y(c("span",{class:"wait-code"},"("+_(u(z))+")",513),[[I,u(M)]])]),c("div",{class:"form-btn",onClick:Qe}," 获取额度 ")],512),[[I,u(Xe)]]),x(l,{show:u(Q),"onUpdate:show":s[14]||(s[14]=e=>w(Q)?Q.value=e:null),title:"",showCancelButton:!1},{default:j((()=>[c("div",qe,[x(E)])])),_:1},8,["show"]),x(l,{show:u(X),"onUpdate:show":s[15]||(s[15]=e=>w(X)?X.value=e:null),title:"",showCancelButton:!1},{default:j((()=>[c("div",He,[x(D)])])),_:1},8,["show"]),x(l,{class:"block-popup",show:u(V),"onUpdate:show":s[16]||(s[16]=e=>w(V)?V.value=e:null),showCancelButton:!1,confirmButtonText:"继续填写"},{title:j((()=>[Fe])),footer:j((()=>[c("div",{btn:"",class:"block-popup-btn",onClick:Ze},"继续完善")])),default:j((()=>[c("div",Le,[c("div",Se,[Te,c("img",{src:u(A),alt:"code"},null,8,Ve)]),Be,Oe])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-b97736b6"]]),ze=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"}));export{J as a,W as b,G as c,E as d,A as e,F as f,ze as g,O as h,Re as i,D as p,K as r,L as u};
