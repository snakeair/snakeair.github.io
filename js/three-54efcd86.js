import{_ as s,d as a,i as e,k as n,r as l,c as t,a as o,n as i,m as c,v as u,s as r,b as d,w as p,q as v,f,t as m,G as b,A as h,o as k,p as _,g as w}from"../default/default-f0912ddd.js";const g=s=>(_("data-v-7679944f"),s=s(),w(),s),y={class:"common-pages que-three"},z=g((()=>o("h3",{class:"page-title"},"第三题",-1))),j=["innerHTML"],q=["innerHTML"],L={class:"reply-box"},x={class:"cloud"},H={class:"layer layer-ok"},M=g((()=>o("div",{class:"iconfont icon-close2"},null,-1))),T=g((()=>o("p",{class:"info"},"回答错误",-1))),C={class:"layer layer-up"},I=g((()=>o("div",{class:"iconfont icon-dui3"},null,-1))),A=g((()=>o("p",{class:"info"},"恭喜！回答正确",-1))),E={class:"info"},F={class:"size"};var G=s(a({__name:"three",setup(s){const{isLoginFn:a}=e();a();let _=n(""),w=n(""),g=0,G=n("");const U=n("");(async()=>{let s=await b("/api.php/puzzle/subject",{});w.value=s.data.title;let a=s.data.content;a.includes("width=")&&(a=a.split("width=").join("")),a.includes("height=")&&(a=a.split("height=").join("")),U.value=a,setInterval((function(){g++}),1e3)})();let V=n(0);const B=async()=>{let s={puzzle_id:3,answer:G,use_seconds:g},a=await h("/api.php/puzzle/answer-subject",s);0==a.code?(_.value="ok",V.value=a.data.rank):_.value="error"},D=()=>{_.value=""};return(s,a)=>{const e=l("router-link");return k(),t("div",y,[z,o("p",{class:"page-take",innerHTML:i(w)},null,8,j),o("div",{class:"img-box",innerHTML:i(U)},null,8,q),o("div",L,[c(o("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>r(G)?G.value=s:G=s),class:"input",placeholder:"请输入你的答案"},null,512),[[u,i(G)]]),o("div",{class:"up-btn common-btn",onClick:B,btn:""},"立即提交")]),d(e,{class:"to-rank",to:"/question/rank"},{default:p((()=>[f("查看入围选手名单")])),_:1}),c(o("div",x,null,512),[[v,""!==i(_)]]),c(o("div",H,[M,T,o("div",{class:"close-btn common-btn",onClick:D,btn:""},"重新答题")],512),[[v,"error"==i(_)]]),c(o("div",C,[I,A,o("p",E,[f("你是第"),o("em",F,m(i(V)),1),f("个回答正确的人")]),d(e,{to:"/question/rank",class:"close-btn common-btn",btn:""},{default:p((()=>[f("查看名次")])),_:1})],512),[[v,"ok"==i(_)]])])}}}),[["__scopeId","data-v-7679944f"],["__file","E:/coding/work/newyear/src/views/question/three.vue"]]);export{G as default};
