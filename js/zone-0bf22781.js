import{$ as a,a as s}from"./index-6a13575f.js";/* empty css              */import{d as e,c as l,u as t,a as o,r as n,o as i,b as u,w as c,e as r,f as d,g as p,h as v,i as h,j as m,v as f,k as g,l as b,n as y,t as A,m as k,p as x,q as w,s as _,F as C,x as j,_ as I,D as q,y as M,z as U,L as B}from"../default/default-e56e1766.js";/* empty css              *//* empty css              *//* empty css              */import"./base-140716b6.js";import{E as H}from"./el-checkbox-bfec9bc5.js";import{_ as P}from"./new-img-02-baa6a6fa.js";import{p as V}from"./util-bc24738a.js";import{u as D,a as E,p as L}from"./privatePact-2674263d.js";import{h as T,i as z}from"./indexIndex-466a0f98.js";import{a as S}from"./js.cookie-d59fc71c.js";import{i as F}from"./index-2dc286dd.js";import{b as O,r as J,a as N,c as Q}from"./block-a36b9c86.js";/* empty css              *//* empty css              */const R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAeBAMAAADX14MiAAAAJ1BMVEUAAADj4+Ph4eHh4eHi4uLh4eHi4uLi4uLh4eHh4eHu7u7////i4uK0u2iOAAAADHRSTlMAZe8z9enLi1YrDwdQb246AAAAMUlEQVQY02PABOwZUMacMwIQxtYzByEMZh2YkBFVhbzgDLgUTDFFAgjHI7yD8CAmAACj/CNJxjvn5gAAAABJRU5ErkJggg==",Y={class:"index-pages"},Z={class:"header-header"},K={class:"header-box"},G={class:"form-box"},X={class:"list-main"},$={class:"first"},W={class:"first"},aa={class:"first"},sa={class:"first"},ea={class:"phone-main"},la={class:"form-phone"},ta={class:"explain"},oa={class:"footer-main"},na={key:0},ia={class:"cloud"},ua={class:"layer layer-code"},ca={class:"layer-header"},ra={class:"code-box"},da={class:"iframe-show"},pa={class:"iframe-show"},va={class:"block-popup-body"},ha={class:"goods-header"},ma={class:"img-box"},fa=["src"],ga={class:"goods-info"},ba={class:"left"},ya={class:"money"},Aa={class:"right"},ka={class:"right-test"},xa={class:"right-test"},wa=["onClick"],_a=M(e({__name:"index",setup(e){const M=l(),U=F(),B=t(),z=o(),_a=async a=>{let s=await I(()=>import("./img-13-68b6256e.js"),[],import.meta.url);a.target.setAttribute("src",s.default)},Ca=n([]),ja=n(!1),Ia=n(!1);n(3);const qa=n(0);i(()=>{(async()=>{let s={appType:3,type:3,channel:z.query.channel},e=await a("/api/user/platform/getAllPlatformsNew",s);1===e.status&&(Ca.value=e.data||[])})(),O(M.quitIntercept,a=>{qa.value=qa.value+1,qa.value>M.quitIntercept?(Ia.value=!1,qa.value=0,J(),N(),Q()):Ia.value=!0})}),u(()=>{Xa(),J(),N()});"yijietong"===z.query.channel&&(ja.value=!0);const{codeTimerH:Ma,codeShowH:Ua,codeFnH:Ba,codeH:Ha}=D(60),Pa=n(!1),Va=n(!1),Da=n(5e5);let Ea=null;const La=()=>{Da.value&&Da.value>5e5&&(Da.value=5e5),Ea&&(clearTimeout(Ea),Ea=null),Ea=setTimeout(function(){Da.value&&Da.value<5e4&&(Da.value=5e4)},1e3)},Ta=()=>{Da.value=void 0},za=n({first:"0.00",all:"0.00"});n({first:"0.00",all:"0.00"}),n({first:"0.00",all:"0.00"}),c(Da,(a,s)=>{a?(za.value.first=""+2*a,za.value.all=""+4*a):(za.value.first="0.00",za.value.all="0.00")});const Sa=n(3),Fa=a=>{Sa.value=a},Oa=n(U.userMobile||""),Ja=n(U.userCheckedPolicy||!1),Na=()=>{Ja.value=!Ja.value},Qa=a=>{s({type:"error",msg:a})},Ra=async()=>{let s={mobilePhone:Oa.value};return await a("/api/user/getUserCode",s)},Ya=async s=>{if(!V(Oa.value))return void(!s&&Qa("请输入正确的手机号码"));if(!Ja.value)return void(!s&&Qa("请阅读并同意服务条约"));if(U.userMobile=Oa.value,U.userCheckedPolicy=Ja.value,1===Ga.code_status)return void(1===Ga.form_status?B.push({path:"/goods"}):B.push({path:"/question/first"}));let e=S.get("userId"),l=S.get("mobile");if(e&&l===Oa.value){if(1===(await Ra()).status)return Xa(),void J(()=>{B.push({path:"/question/first"})})}let t={mobilePhone:Oa.value,channel:M.channel,position:3},o=await a("/api/user/getCode",t);1===o.status?(Ka.value=!0,Ba()):22===o.status?Qa("请求太频繁，请稍后再试"):Qa(o.msg)},Za=async()=>{let s=z.query.channel,e={mobilePhone:Oa.value,position:3,code:Ha.value,channel:s},l=await a("/api/user/registerOrLogin",e);if(1!==l.status)return Qa("验证码错误"),!1;S.set("mobile",Oa.value,{expires:1}),S.set("token",l.data.access_token,{expires:1}),S.set("jti",l.data.jti,{expires:1}),S.set("token_type",l.data.token_type,{expires:1}),S.set("userId",l.data.userId,{expires:1}),Xa(),1===Ga.form_status?J(()=>{B.push({path:"/goods"})}):J(()=>{B.push({path:M.toUrl?M.toUrl:"/question/first"})})},Ka=n(!1);let Ga={code_status:0,form_status:0,popup_status:0};function Xa(){Ka.value=!1,Ia.value=!1,qa.value=0,Pa.value=!1,Va.value=!1}(async()=>{let s={channel:z.query.channel,type:3},e=await a("/api/user/channelSti",s);Ga=e.data;let l=z.query.orderId;l&&l.length>0&&(Xa(),J(()=>{B.push({path:"/order",query:{orderId:l}})}))})();const $a=async()=>{Ia.value=!1,1===(await Ra()).status?(Xa(),J(()=>{B.push({path:"/question/first"})})):Ya(!0)};return(s,e)=>{const l=H,t=q;return r(),d("div",Y,[p("section",Z,[v(T),p("header",K,[e[17]||(e[17]=h("最高可借500000元 ",-1)),p("span",{class:"all-btn",btn:"",onClick:e[0]||(e[0]=a=>Da.value=5e5)},"全部借出")]),p("div",G,[p("div",null,[e[18]||(e[18]=p("span",{class:"icon"},"￥",-1)),m(p("input",{type:"number",class:"money","onUpdate:modelValue":e[1]||(e[1]=a=>b(Da)?Da.value=a:null),maxlength:"5",onInput:La,oninput:"this.value=this.value.replace(/[^0-9-]+/,'');"},null,544),[[f,g(Da)]])]),p("div",{class:"info",onClick:Ta},[...e[19]||(e[19]=[h("(金额可修改) ",-1),p("em",{class:"icon-Close iconfont"},null,-1)])])]),e[20]||(e[20]=p("footer",{class:"footer"},[p("span",{class:"warning"},"限时优惠"),p("span",{class:"ll"},"年利18%~36%"),p("span",{class:"other"},"1千元用1天只需0.5元")],-1))]),p("section",X,[e[25]||(e[25]=p("h3",{class:"title"},"次日起可还款，免手续费，免剩余天数利息",-1)),p("dl",{class:y(["list-box",{holder:3==g(Sa)}]),onClick:e[2]||(e[2]=a=>Fa(3))},[p("dt",null,[e[21]||(e[21]=p("span",{class:"time"},"分24个月还",-1)),p("span",$,"首期还¥"+A(g(Da)?Math.round(.18*g(Da)/12+g(Da)/24):"0.00"),1)]),p("dd",null,"借满24个月，总利息：¥"+A(g(Da)?Math.round(.18*g(Da)*2):"0.00"),1)],2),p("dl",{class:y(["list-box",{holder:0==g(Sa)}]),onClick:e[3]||(e[3]=a=>Fa(0))},[p("dt",null,[e[22]||(e[22]=p("span",{class:"time"},"分12个月还",-1)),p("span",W,"首期还¥"+A(g(Da)?Math.round(.18*g(Da)/12+g(Da)/12):"0.00"),1)]),p("dd",null,"借满12个月，总利息：¥"+A(g(Da)?Math.round(.18*g(Da)):"0.00"),1)],2),p("dl",{class:y(["list-box",{holder:1==g(Sa)}]),onClick:e[4]||(e[4]=a=>Fa(1))},[p("dt",null,[e[23]||(e[23]=p("span",{class:"time"},"分6个月还",-1)),p("span",aa,"首期还¥"+A(g(Da)?Math.round(.18*g(Da)/12+g(Da)/6):"0.00"),1)]),p("dd",null,"借满6个月，总利息：¥"+A(g(Da)?Math.round(.18*g(Da)/12*6):"0.00"),1)],2),p("dl",{class:y(["list-box",{holder:2==g(Sa)}]),onClick:e[5]||(e[5]=a=>Fa(2))},[p("dt",null,[e[24]||(e[24]=p("span",{class:"time"},"分3个月还",-1)),p("span",sa,"首期还¥"+A(g(Da)?Math.round(.18*g(Da)/12+g(Da)/3):"0.00"),1)]),p("dd",null,"借满3个月，总利息：¥"+A(g(Da)?Math.round(.18*g(Da)/12*3):"0.00"),1)],2),e[26]||(e[26]=k('<div class="coupon-main" data-v-297fbd17><span class="coupon-title" data-v-297fbd17>优惠券</span><span class="credit" data-v-297fbd17>-￥30 <img class="icon" src="'+R+'" alt="" data-v-297fbd17></span></div><div class="coupon-main none" data-v-297fbd17><span class="coupon-title" data-v-297fbd17>收/还款账户</span><span data-v-297fbd17><img class="img" src="'+P+'" alt="" data-v-297fbd17><img class="icon" src="'+R+'" alt="" data-v-297fbd17></span></div>',2))]),p("section",ea,[p("div",la,[e[27]||(e[27]=p("span",{class:"form-title"},"手机号码",-1)),m(p("input",{type:"tel",placeholder:"请输入手机号码",maxlength:"11",class:"tel","onUpdate:modelValue":e[6]||(e[6]=a=>b(Oa)?Oa.value=a:null),oninput:"this.value=this.value.replace(/[^0-9-]+/,'');"},null,512),[[f,g(Oa)]])]),p("div",{btn:"",class:"btn",onClick:e[7]||(e[7]=a=>Ya())},"去借钱"),p("p",ta,[v(l,{class:"checked",modelValue:g(Ja),"onUpdate:modelValue":e[8]||(e[8]=a=>b(Ja)?Ja.value=a:null),size:"large"},null,8,["modelValue"]),p("span",{onClick:Na},"我已阅读同意"),p("span",{class:"red",onClick:e[9]||(e[9]=a=>Pa.value=!0)},"《服务协议》"),e[28]||(e[28]=p("span",null,"和",-1)),p("span",{class:"red",onClick:e[10]||(e[10]=a=>Va.value=!0)},"《隐私政策》")])]),p("footer",oa,[g(ja)?(r(),d("p",na,"重庆小康小额贷款有限公司 | 渝ICP备18000384号-1")):x("",!0),e[29]||(e[29]=p("p",null,"郑重声明：平台只提供贷款咨询和推荐服务，放款由银行或金融机构进行， 所有贷款申请在未成功贷款前绝不收取任何费用，为了保证您的资金安全， 请不要相信任何要求您支付费用的信息、邮件、电话等不实信息。",-1))]),m(p("div",ia,null,512),[[w,g(Ka)]]),m(p("div",ua,[p("header",ca,[p("span",{class:"close iconfont icon-Close",onClick:e[11]||(e[11]=a=>{Ka.value=!1})})]),p("div",ra,[m(p("input",{type:"text",maxlength:"6",placeholder:"请输入手机验证码",class:"code","onUpdate:modelValue":e[12]||(e[12]=a=>b(Ha)?Ha.value=a:null)},null,512),[[f,g(Ha)]]),m(p("span",{class:"get-code",onClick:e[13]||(e[13]=a=>Ya())},"获取验证码",512),[[w,!g(Ua)]]),m(p("span",{class:"wait-code"},"("+A(g(Ma))+")",513),[[w,g(Ua)]])]),p("div",{class:"form-btn",onClick:Za}," 获取额度 ")],512),[[w,g(Ka)]]),v(t,{show:g(Pa),"onUpdate:show":e[14]||(e[14]=a=>b(Pa)?Pa.value=a:null),title:"",showCancelButton:!1},{default:_(()=>[p("div",da,[v(E)])]),_:1},8,["show"]),v(t,{show:g(Va),"onUpdate:show":e[15]||(e[15]=a=>b(Va)?Va.value=a:null),title:"",showCancelButton:!1},{default:_(()=>[p("div",pa,[v(L)])]),_:1},8,["show"]),v(t,{class:"block-popup index-popup",show:g(Ia),"onUpdate:show":e[16]||(e[16]=a=>b(Ia)?Ia.value=a:null),showCancelButton:!1,confirmButtonText:"继续填写"},{title:_(()=>[...e[30]||(e[30]=[p("div",{class:"block-popup-title"},[p("div",{class:"block-popup-title__tag"},"专属"),p("div",{class:"block-popup-title__text"},"您确定要离开吗？")],-1)])]),footer:_(()=>[p("div",{btn:"",class:"block-popup-btn",onClick:$a},"继续完善")]),default:_(()=>[p("div",va,[(r(!0),d(C,null,j(g(Ca),(s,l)=>(r(),d("div",{class:"goods-box",key:s.ID},[p("header",ha,[p("div",ma,[p("img",{class:"img",src:s.logo,onError:_a,alt:""},null,40,fa)]),h(" "+A(s.name),1)]),p("div",ga,[p("div",ba,[p("div",ya,A(s.quotaMin)+"~"+A(s.quotaMax)+"元",1),e[31]||(e[31]=p("div",{class:"money-test"},"额度范围(元)",-1))]),p("div",Aa,[e[32]||(e[32]=p("div",{class:"right-test"},"1小时放款",-1)),p("div",ka,"年化利率"+A(s.rateLow)+"%~"+A(s.rateHigh)+"%",1),p("div",xa,"贷款期限"+A(s.monthStart)+"~"+A(s.monthEnd)+"个月",1)])]),p("div",{btn:"",class:"goods-btn",onClick:s=>(async s=>{if(1==Ca.value[s].jumpStatus){let e="/api/user/platform/insertUserApplicationNew",l={platformId:Ca.value[s].id,conditionId:Ca.value[s].conditionId,flag:4,type:1,userId:S.get("userId"),channel:z.query.channel};await a(e,l),setTimeout(()=>{window.location.href=Ca.value[s].url},500)}else B.push({path:"/pact",query:{ids:Ca.value[s].id}})})(l)},"申请额度",8,wa)]))),128))])]),_:1},8,["show"])])}}}),[["__scopeId","data-v-297fbd17"]]),Ca={key:0,class:"mark"},ja=M(e({__name:"zone",setup(s){const e=l(),t=o(),i=n(""),u=n(!0),c=n(!1);return(async()=>{var s;let l={channel:t.query.channel,type:3},o=await a("/api/user/channelSti",l);u.value=!1,1==o.status&&o.data.length>0&&(e.toUrl=o.data[0].router),o.data&&null!=(null==(s=o.data[0])?void 0:s.quitIntercept)&&(e.quitIntercept=o.data[0].quitIntercept),c.value=!0,"/question/fourth"==e.toUrl?i.value="red":i.value="blue"})(),(a,s)=>{const e=B;return r(),d("div",null,[g(u)?(r(),d("div",Ca,[v(e,{color:"#1989fa"})])):x("",!0),g(c)?(r(),d(C,{key:1},["blue"==g(i)?(r(),U(_a,{key:0})):x("",!0),"red"==g(i)?(r(),U(z,{key:1})):x("",!0)],64)):x("",!0)])}}}),[["__scopeId","data-v-8d569a0a"]]);export{ja as default};
